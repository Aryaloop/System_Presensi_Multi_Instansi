import{r as t,j as e,a as d}from"./index-CMRaJyvN.js";function p(){const[i,c]=t.useState([]),[s,n]=t.useState(1),r=10,[u,o]=t.useState(0),l=async()=>{const a=await d.get(`/api/admin/izin?page=${s}&limit=${r}`);c(a.data.data),o(a.data.total)};return t.useEffect(()=>{l()},[s]),e.jsxs("section",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"ğŸ“ Verifikasi Izin / WFH"}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsxs("table",{className:"min-w-full border text-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border",children:"Nama"}),e.jsx("th",{className:"p-2 border",children:"Jenis"}),e.jsx("th",{className:"p-2 border",children:"Tanggal"}),e.jsx("th",{className:"p-2 border",children:"Alasan"}),e.jsx("th",{className:"p-2 border",children:"Status"})]})}),e.jsx("tbody",{children:i.map(a=>e.jsxs("tr",{children:[e.jsx("td",{className:"border p-2",children:a.akun?.username}),e.jsx("td",{className:"border p-2",children:a.jenis_izin}),e.jsxs("td",{className:"border p-2",children:[a.tanggal_mulai," â†’ ",a.tanggal_selesai]}),e.jsx("td",{className:"border p-2",children:a.alasan}),e.jsx("td",{className:"border p-2",children:e.jsxs("select",{value:a.status_persetujuan,onChange:async x=>{await d.patch(`/api/admin/izin/${a.id_izin}/verifikasi`,{status_persetujuan:x.target.value,id_verifikator:localStorage.getItem("id_akun")}),l()},className:`border p-2 rounded w-full ${a.status_persetujuan==="DISETUJUI"?"bg-green-100 text-green-700":a.status_persetujuan==="DITOLAK"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:[e.jsx("option",{value:"PENDING",children:"PENDING"}),e.jsx("option",{value:"DISETUJUI",children:"DISETUJUI"}),e.jsx("option",{value:"DITOLAK",children:"DITOLAK"})]})})]},a.id_izin))})]}),e.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[e.jsx("button",{disabled:s===1,onClick:()=>n(s-1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"â—€ï¸ Previous"}),e.jsxs("span",{children:["Halaman ",s]}),e.jsx("button",{disabled:i.length<r,onClick:()=>n(s+1),className:"px-3 py-1 bg-gray-200 rounded disabled:opacity-50",children:"Next â–¶ï¸"})]})]})]})}export{p as default};
